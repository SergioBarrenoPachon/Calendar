document.addEventListener("DOMContentLoaded", () => {
    // Generar QR para cada día del calendario
    const qrDiasContainer = document.getElementById("qr-dias");

    for (let i = 1; i <= 24; i++) {
        // Crear un contenedor para cada día
        const dayContainer = document.createElement("div");
        dayContainer.classList.add("qr-item");

        const dayTitle = document.createElement("h3");
        dayTitle.textContent = `Día ${i}`;
        dayContainer.appendChild(dayTitle);

        // Crear el QR
        const qrCodeElement = document.createElement("canvas");
        dayContainer.appendChild(qrCodeElement);

        // Generar el QR con el enlace al día correspondiente
        const url = `https://sergiobarrenopachon.github.io/Calendar/index.html?dia=${i}`;
        QRCode.toCanvas(qrCodeElement, url, (error) => {
            if (error) console.error("Error generando el QR para el día", i, error);
        });

        qrDiasContainer.appendChild(dayContainer);
    }

    // Generar el QR de Reset
    const qrResetContainer = document.getElementById("qrcode-reset");
    const resetURL = "https://sergiobarrenopachon.github.io/Calendar/index.html?reset=true";
    const resetCanvas = document.createElement("canvas");
    qrResetContainer.appendChild(resetCanvas);

    QRCode.toCanvas(resetCanvas, resetURL, (error) => {
        if (error) console.error("Error generando el QR de reset", error);
    });
});
