<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de QR - Calendario de Adviento</title>
    <link rel="stylesheet" href="css/styles_qr.css">
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.4.4/build/qrcode.min.js"></script>
</head>
<body>
    <header>
        <h1>游꾻 Generador de QR - Calendario de Adviento 游꾻</h1>
        <p>Escanea cada QR para desbloquear cada d칤a en el calendario principal.</p>
    </header>

    <main>
        <div class="qr-container">
            <h2>QR de la P치gina Principal</h2>
            <p>Escanea este c칩digo para ir directamente a la p치gina principal del Calendario de Adviento:</p>
            <div id="qr-principal">
                <!-- QR de la p치gina principal ser치 generado aqu칤 -->
            </div>

            <h2>QRs de los D칤as</h2>
            <div id="qr-dias">
                <!-- Se generar치n 24 QRs autom치ticamente -->
            </div>

            <h2>QR de Reset</h2>
            <div id="qr-reset">
                <p>Escanea este c칩digo para borrar todo el progreso.</p>
                <div id="qrcode-reset"></div>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Generar QR para la p치gina principal
            const qrPrincipalContainer = document.getElementById("qr-principal");
            const principalURL = "https://sergiobarrenopachon.github.io/Calendar/index.html";  // URL de la p치gina principal
            const principalCanvas = document.createElement("canvas");
            qrPrincipalContainer.appendChild(principalCanvas);

            QRCode.toCanvas(principalCanvas, principalURL, (error) => {
                if (error) console.error("Error generando el QR de la p치gina principal", error);
            });

            // Generar QR para cada d칤a del calendario
            const qrDiasContainer = document.getElementById("qr-dias");
        
            for (let i = 1; i <= 24; i++) {
                // Crear un contenedor para cada d칤a
                const dayContainer = document.createElement("div");
                dayContainer.classList.add("qr-item");
        
                const dayTitle = document.createElement("h3");
                dayTitle.textContent = `D칤a ${i}`;
                dayContainer.appendChild(dayTitle);
        
                // Crear el QR
                const qrCodeElement = document.createElement("canvas");
                dayContainer.appendChild(qrCodeElement);
        
                // Generar el QR con el enlace al d칤a correspondiente
                const url = `https://sergiobarrenopachon.github.io/Calendar/index.html?dia=${i}`;
                QRCode.toCanvas(qrCodeElement, url, (error) => {
                    if (error) console.error("Error generando el QR para el d칤a", i, error);
                });
        
                qrDiasContainer.appendChild(dayContainer);
            }
        
            // Generar el QR de Reset
            const qrResetContainer = document.getElementById("qrcode-reset");
            const resetURL = "https://sergiobarrenopachon.github.io/Calendar/index.html?reset=true";
            const resetCanvas = document.createElement("canvas");
            qrResetContainer.appendChild(resetCanvas);
        
            QRCode.toCanvas(resetCanvas, resetURL, (error) => {
                if (error) console.error("Error generando el QR de reset", error);
            });
        });
    </script>
</body>
</html>
